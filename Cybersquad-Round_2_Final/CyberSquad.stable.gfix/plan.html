<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Plan a Journey</title>
  <link rel="icon" type="image/png" href="icon.png">
  <style>
    :root{--g1:#43cea2;--g2:#185a9d}
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100vh;display:grid;place-items:center;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff
    }
    .card{
      width:clamp(320px,90vw,520px);background:rgba(255,255,255,.12);backdrop-filter:blur(6px);
      border:1px solid rgba(255,255,255,.2);border-radius:18px;padding:28px;
      box-shadow:0 10px 30px rgba(0,0,0,.25);animation:pop .4s ease
    }
    h1{margin:0 0 10px;font-size:28px}
    p{margin:0 0 18px;opacity:.9}
    form{display:grid;gap:12px}
    label{font-size:13px;opacity:.95}
    input,button{
      width:100%;padding:12px 14px;border-radius:12px;border:none;font-size:15px
    }
    input{background:#fff;color:#1b2b34;outline:none}
    .row{display:grid;grid-template-columns:1fr auto;gap:10px}
    .ghost{
      background:transparent;color:#fff;border:1px solid rgba(255,255,255,.6);
      cursor:pointer;transition:.2s
    }
    .ghost:hover{background:rgba(255,255,255,.15)}
    .cta{
      background:#fff;color:#185a9d;font-weight:700;cursor:pointer;transition:.2s
    }
    .cta:hover{transform:translateY(-1px);background:#f1f3f5}
    .actions{display:flex;gap:10px;margin-top:6px}
    a.btn{
      text-decoration:none;display:inline-block;padding:12px 16px;border-radius:12px;
      background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.4);color:#fff
    }
    @keyframes pop{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
    small.hint{opacity:.85}
  </style>
</head>
<body>
  <div class="card">
    <h1>Plan your journey</h1>
    <p>Type places (e.g., ‚ÄúConnaught Place‚Äù ‚Üí ‚ÄúNoida City Centre‚Äù) or use your location.</p>

    <form id="planForm">
      <div>
        <label for="start">Start</label>
        <div class="row">
          <input id="start" placeholder="e.g., Connaught Place, Delhi" required>
          <button type="button" class="ghost" onclick="useMyLocation()">üìç</button>
        </div>
        <small class="hint">Tip: You can also paste ‚Äúlat,lon‚Äù like <i>28.6139,77.2090</i></small>
      </div>

      <div>
        <label for="end">Destination</label>
        <input id="end" placeholder="e.g., Noida City Centre" required>
      </div>

      <div class="row">
        <div>
          <label for="budget">Max Budget (‚Çπ)</label>
          <input id="budget" type="number" min="0" placeholder="e.g., 150" required>
        </div>
        <div>
          <label for="time">Max Time (min)</label>
          <input id="time" type="number" min="0" placeholder="e.g., 60" required>
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="cta">Find Routes ‚Üí</button>
        <a class="btn" href="dashboard.html">Dashboard</a>
      </div>
    </form>
  </div>

  <script>
    function useMyLocation(){
      if(!navigator.geolocation){ alert("Geolocation not supported"); return; }
      navigator.geolocation.getCurrentPosition(
        pos=>{
          const {latitude,longitude} = pos.coords;
          document.getElementById('start').value = `${latitude.toFixed(6)},${longitude.toFixed(6)}`;
        },
        _=>alert("Couldn't get your location")
      );
    }

    document.getElementById('planForm').addEventListener('submit', e=>{
      e.preventDefault();
      const s = encodeURIComponent(document.getElementById('start').value.trim());
      const d = encodeURIComponent(document.getElementById('end').value.trim());
      const b = encodeURIComponent(document.getElementById('budget').value.trim());
      const t = encodeURIComponent(document.getElementById('time').value.trim());
      location.href = `routes.html?start=${s}&end=${d}&budget=${b}&time=${t}`;
    });
  </script>
</body>
</html>
